(this.webpackJsonptrabalho=this.webpackJsonptrabalho||[]).push([[0],{31:function(e,t,a){e.exports=a.p+"static/media/img.2b178f23.png"},36:function(e,t,a){e.exports=a(66)},41:function(e,t,a){},42:function(e,t,a){},66:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),o=a(30),i=a.n(o),c=(a(41),a(42),a(9)),l=a(10),s=a(12),m=a(11),u=a(13),d=a(31),p=a.n(d),h=function(e){function t(){return Object(c.a)(this,t),Object(s.a)(this,Object(m.a)(t).apply(this,arguments))}return Object(u.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){return r.a.createElement("div",{className:"container-fluid"},r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col-sm-12 bg-danger text-white py-2"},r.a.createElement("img",{src:p.a,alt:"Academia Vai Adiante",height:"100px",id:"imagem"}),r.a.createElement("h1",{id:"a"},"Academia Bombad\xe3o"),r.a.createElement("h4",{id:"a"},"Registro de Alunos"))))}}]),t}(n.Component),v=a(7),b=a.n(v),E=a(15),f=a(32),g=a(33),y=a.n(g).a.create({baseURL:"http://belinglima.000webhostapp.com"}),N=a(17),w=a(6),j=function(e){function t(){var e,a;Object(c.a)(this,t);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(a=Object(s.a)(this,(e=Object(m.a)(t)).call.apply(e,[this].concat(r)))).state={treinos:[]},a}return Object(u.a)(t,e),Object(l.a)(t,[{key:"componentDidMount",value:function(){var e=Object(E.a)(b.a.mark((function e(){var t;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,y.get("/json.php");case 2:t=e.sent,this.setState({treinos:t.data});case 4:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){return r.a.createElement("div",null,r.a.createElement("div",{className:"container"},r.a.createElement("div",{className:"col-sm-12"},r.a.createElement("h3",null,"Listagem de Treinos")),r.a.createElement("div",{className:"col-sm-12"},r.a.createElement("table",{className:"table table-striped"},r.a.createElement("thead",null,r.a.createElement("tr",null,r.a.createElement("th",null,"Codigo"),r.a.createElement("th",null,"Nome"),r.a.createElement("th",null,"Treino"),r.a.createElement("th",null,"Foto"))),r.a.createElement("tbody",null,this.state.treinos.map((function(e){return r.a.createElement("tr",{key:e.id},r.a.createElement("td",null,e.id),r.a.createElement("td",null,e.nome),r.a.createElement("td",null,e.treino),r.a.createElement("td",null,r.a.createElement("img",{width:"100px",height:"100px",src:"https://belinglima.000webhostapp.com/".concat(e.foto),alt:"foto"})))})))),r.a.createElement("br",null),r.a.createElement("br",null),r.a.createElement("br",null),r.a.createElement("br",null))))}}]),t}(n.Component),k=function(e){function t(){var e,a;Object(c.a)(this,t);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(a=Object(s.a)(this,(e=Object(m.a)(t)).call.apply(e,[this].concat(r)))).state={nome:"",treino:"",foto:"",aviso:""},a.limpar=function(){a.setState(a.initialState)},a.handleChange=function(e){a.setState(Object(f.a)({},e.target.name,e.target.value))},a.habilitarCamera=Object(E.a)(b.a.mark((function e(){return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!navigator.mediaDevices||!navigator.mediaDevices.getUserMedia){e.next=3;break}return e.next=3,navigator.mediaDevices.getUserMedia({video:!0}).then((function(e){var t=document.getElementById("video");t.style.visibility="visible",t.srcObject=e,t.onloadedmetadata=function(e){t.play()}})).catch((function(e){console.log(e.name+" : "+e.message)}));case 3:case"end":return e.stop()}}),e)}))),a.capturarFoto=function(){var e=document.getElementById("canvas"),t=document.getElementById("video");e.getContext("2d").drawImage(t,0,0,320,240),t.pause(),t.style.visibility="hidden",a.setState({foto:e.toDataURL("image/png")})},a.handleSubmit=function(){var e=Object(E.a)(b.a.mark((function e(t){var n,r;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.preventDefault(),""!==a.state.nome&&""!==a.state.treino&&""!==a.state.foto){e.next=5;break}return a.setState({aviso:"Por Favor Preencha nome, treino e Foto"}),a.tempoAviso(),e.abrupt("return");case 5:return(n=new FormData).append("nome",a.state.nome),n.append("treino",a.state.treino),n.append("foto",a.state.foto),r={headers:{"content-type":"multipart/form-data"}},e.prev=10,e.next=13,y.post("/inc_treino.php",n,r);case 13:e.sent,a.limpar(),a.setState({aviso:"Treino cadastrado com sucesso!"}),e.next=21;break;case 18:e.prev=18,e.t0=e.catch(10),a.setState({aviso:"Erro... Treino n\xe3o inserido: ".concat(e.t0)});case 21:a.tempoAviso(),document.getElementById("canvas").style.visibility="hidden";case 24:case"end":return e.stop()}}),e,null,[[10,18]])})));return function(t){return e.apply(this,arguments)}}(),a.tempoAviso=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:3e3;setTimeout((function(){a.setState({aviso:""})}),e)},a}return Object(u.a)(t,e),Object(l.a)(t,[{key:"componentDidMount",value:function(){this.initialState=this.state}},{key:"render",value:function(){return r.a.createElement(N.a,null,r.a.createElement("form",{className:"mx-4 mt-3",onSubmit:this.handleSubmit,encType:"multipart/formData"},r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col-sm-6"},r.a.createElement("div",{className:"form-group"},r.a.createElement("label",{htmlFor:"nome"},"Nome do Aluno:"),r.a.createElement("input",{type:"text",className:"form-control",autoFocus:!0,name:"nome",id:"nome",onChange:this.handleChange,value:this.state.nome})),r.a.createElement("div",{className:"form-group"},r.a.createElement("label",{htmlFor:"treino"},"Treino:"),r.a.createElement("input",{type:"text",className:"form-control",name:"treino",id:"treino",onChange:this.handleChange,value:this.state.treino})),r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col-sm-4"},r.a.createElement("input",{type:"reset",className:"btn btn-success btn-block mt-1",onClick:this.habilitarCamera,value:"Habilitar Camera"})),r.a.createElement("div",{className:"col-sm-4"},r.a.createElement("input",{type:"reset",className:"btn btn-danger btn-block mt-1",value:"Limpar"})),r.a.createElement("div",{className:"col-sm-4"},r.a.createElement("input",{type:"submit",className:"btn btn-primary btn-block mt-1",value:"Gravar"})),r.a.createElement("div",{className:"col-sm-12"},r.a.createElement(N.b,{to:"/listagem"},"Listar Treinos"))),""!==this.state.aviso?r.a.createElement("div",{className:"alert alert-info mt-4"},this.state.aviso):""),r.a.createElement("div",{className:"col-sm-6"},r.a.createElement("video",{id:"video",width:"310",height:"240"}),r.a.createElement("canvas",{id:"canvas",width:"310",height:"240"}),r.a.createElement("input",{type:"button",className:"btn btn-danger float-right mt-3 px5",onClick:this.capturarFoto,value:"Capturar Foto"})))),r.a.createElement(w.c,null,r.a.createElement(w.a,{path:"/listagem"},r.a.createElement(j,null))))}}]),t}(n.Component);var x=function(){return r.a.createElement("div",{className:"App"},r.a.createElement(h,null),r.a.createElement(k,null))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));i.a.render(r.a.createElement(x,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))}},[[36,1,2]]]);
//# sourceMappingURL=main.f9aca802.chunk.js.map